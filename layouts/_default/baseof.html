<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode }}">
    {{- partial "head/head.html" . -}}
    <body>
        <div class="layout-wrapper">
            {{- partial "header.html" . -}}
            <main class="main-content">
                {{- block "main" . }}{{- end }}
            </main>
            {{- partial "footer.html" . -}}
        </div>
        <script src="{{ "js/theme.js" | absURL }}"></script>
        <script>
            if (window.netlifyIdentity) {
                window.netlifyIdentity.on("init", user => {
                    if (!user) {
                        window.netlifyIdentity.on("login", () => {
                            document.location.href = "/admin/";
                        });
                    }
                });
            }
        </script>
        <style>
            .layout-wrapper {
                min-height: 100vh;
                display: flex;
                flex-direction: column;
            }
            .main-content {
                flex: 1;
            }
            footer {
                margin-top: auto;
            }
        </style>
    </body>
</html> 